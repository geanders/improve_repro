## Principles and power of structured data formats

The format in which experimental data is recorded can have a large influence on
how easy and likely it is to implement reproducibility tools in later stages of
the research workflow. Recording data in a "structured" format brings many
benefits. In this module, we will explain what makes a dataset "structured" and
why this format is a powerful tool for reproducible research.

**Objectives.** After this module, the trainee will be able to:

- List the characteristics of a structured data format 
- Describe benefits for research transparency and reproducibility 
- Outline other benefits of using a structured format when recording data

### Characteristics of a structured data format

### Benefits of a structured data format

From a working group on bioinformatics and data-intensive science: "Many simple
analyses are not automated because data formats are a moving target. ... The
community has been slow to share tools, partially because tools are not robust
against different input formats." [@barga2011bioinformatics]

"Determine whether there is a community-based metadata schema or standard (i.e., 
preferred sets of metadata elements) that can be adopted." [@michener2015ten]

First, you can still use spreadsheets, but reduce their use to recording data, 
leaving all data cleaning and analysis to be handled with other software. To make 
it easier to collaborate with statisticians and to interface with a program like 
R for data cleaning and analysis, it will be easiest if you set up your data
recording to include with other statistical programs like R or Python. These
steps are described in a later section, "...".

- Each sheet of the spreadsheet should contain data from a single
experiment.
- Never use whitespace to represent a meaningful separation in data within 
a spreadsheet. Never include multiple tables of data in the same sheet. 
- The first row of the spreadsheet should include a short column name for 
each column with data. All column name information should be within a single row 
(i.e., avoid subheadings). Avoid any special characters (e.g., "%") in column 
names. Instead, use only letters, numbers, and underscores ("_"), and start with a letter. 
It is especially helpful if you can avoid spaces in column names.
- Missing data should be represented consistently in cells. "NA" is one choice. If 
you want to clarify why data is missing, it's much better to add a column (e.g., "why_missing")
where you can provide those details in text, rather than combining within a single column 
numerical observation data with textual reasons for missingness in cells with missing values.

Next, you could record data using a statistical language like R. There is an 
excellent Integrated Development Environment for R called RStudio, and it creates a 
much clearer interface with R compared to running R from a commond line, particularly for new users. RStudio allows you to open delimited plain text files, like csvs, using
a grid-style interface. This grid-style interface looks very similar to a 
spreadsheet, but lacks the ability to include formulas or macros. Therefore, this 
format enforces a separation of the recording of raw data from the cleaning and 
analysis of the data. 

[R Project templates]

Data cleaning and analysis can then be shifted away from the files used to 
record the data and into reproducible scripts. These scripts can be clearly 
documented, either through comments in the code or through open source 
documentation tools like RMarkdown than interweave code and text in a way that
allows the creation of documents that are easier to read than commented code. 

This documentation should explain why each step is being done. In cases where 
it is not immediately evident from the code *how* the step is being done, this
should be documented as well. Any assumptions being used should be clarified in 
the documentation.

### Applied exercise
